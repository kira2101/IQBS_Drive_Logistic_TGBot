# –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –¥–Ω—è–º (–∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–º –¥–∞—Ç–∞–º), –∞ –Ω–µ –ø–æ —Ä–∞–±–æ—á–∏–º —Å–µ—Å—Å–∏—è–º.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `user_logs/` –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
user_logs/user_{user_id}_{YYYYMMDD}.log
```

–ù–∞–ø—Ä–∏–º–µ—Ä: `user_logs/user_123456789_20250722.log`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ª–æ–≥–∞

```
================================================================================
–õ–û–ì –ê–ö–¢–ò–í–ù–û–°–¢–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø 123456789
–î–ê–¢–ê: 22.07.2025 (Monday)
================================================================================

[08:30:15] ü§ñ –ö–û–ú–ê–ù–î–ê: /start_day
[08:32:20] ü§ñ –ö–û–ú–ê–ù–î–ê: /start_trip
[08:35:45] üöó –ù–ê–ß–ê–õ–û –†–ï–ô–°–ê: Skoda Octavia 1.6 (ID: 123)
[08:40:10] ü§ñ –ö–û–ú–ê–ù–î–ê: /drive_to
[09:15:30] üöô –ü–û–ï–ó–î–ö–ê: –î–æ–º ‚Üí Iq Pizza + –•–æ–•–µ–π–π (15 –∫–º) | –ü—Ä–æ–µ–∫—Ç: Iq Pizza + –•–æ–•–µ–π–π
[09:20:00] ü§ñ –ö–û–ú–ê–ù–î–ê: /work_on
[10:45:15] üî® –†–ê–ë–û–¢–ê: Iq Pizza + –•–æ–•–µ–π–π (85 –º–∏–Ω)
[10:50:20] üöô –ü–û–ï–ó–î–ö–ê: Iq Pizza + –•–æ–•–µ–π–π ‚Üí –ú–∞–≥–∞–∑–∏–Ω (12 –∫–º)
[11:30:45] üõí –ó–ê–ö–£–ü–ö–ê: Iq Pizza + –•–æ–•–µ–π–π (25 –º–∏–Ω)
[12:00:10] üöô –ü–û–ï–ó–î–ö–ê: –ú–∞–≥–∞–∑–∏–Ω ‚Üí –î–æ–º (18 –∫–º)
[17:30:00] üèÅ –ö–û–ù–ï–¶ –†–ï–ô–°–ê: 45.0 –∫–º, 480 –º–∏–Ω (ID: 123)
[17:35:15] ‚ùå –û–®–ò–ë–ö–ê –ö–û–ú–ê–ù–î–´: /drive_to - No active work day
```

## –¢–∏–ø—ã –∑–∞–ø–∏—Å–µ–π –≤ –ª–æ–≥–µ

### ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
–ó–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤ –±–æ—Ç–µ:
- `ü§ñ –ö–û–ú–ê–ù–î–ê: /start_day` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è
- `ü§ñ –ö–û–ú–ê–ù–î–ê: /drive_to` - –Ω–∞—á–∞–ª–æ –ø–æ–µ–∑–¥–∫–∏
- `‚ùå –û–®–ò–ë–ö–ê –ö–û–ú–ê–ù–î–´: /command - –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏` - –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### üöó –†–∞–±–æ—á–∏–µ —Å–µ—Å—Å–∏–∏
–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–µ–π—Å–æ–≤:
- `üöó –ù–ê–ß–ê–õ–û –†–ï–ô–°–ê: Skoda Octavia 1.6 (ID: 123)` - –Ω–∞—á–∞–ª–æ —Ä–µ–π—Å–∞ –Ω–∞ –º–∞—à–∏–Ω–µ
- `üèÅ –ö–û–ù–ï–¶ –†–ï–ô–°–ê: 45.0 –∫–º, 480 –º–∏–Ω (ID: 123)` - –æ–∫–æ–Ω—á–∞–Ω–∏–µ —Ä–µ–π—Å–∞ —Å –∏—Ç–æ–≥–∞–º–∏

### üöô –ü–æ–µ–∑–¥–∫–∏
–í—Å–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –º–µ–∂–¥—É –ª–æ–∫–∞—Ü–∏—è–º–∏:
- `üöô –ü–û–ï–ó–î–ö–ê: –î–æ–º ‚Üí –ú–∞–≥–∞–∑–∏–Ω (12 –∫–º)` - –ø–æ–µ–∑–¥–∫–∞ –±–µ–∑ –ø—Ä–æ–µ–∫—Ç–∞
- `üöô –ü–û–ï–ó–î–ö–ê: –î–æ–º ‚Üí Iq Pizza (15 –∫–º) | –ü—Ä–æ–µ–∫—Ç: Iq Pizza` - –ø–æ–µ–∑–¥–∫–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç

### üî®üõí –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
–†–∞–±–æ—á–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –∏ –∑–∞–∫—É–ø–∫–∏:
- `üî® –†–ê–ë–û–¢–ê: Iq Pizza + –•–æ–•–µ–π–π (85 –º–∏–Ω)` - —Ä–∞–±–æ—Ç–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–µ
- `üõí –ó–ê–ö–£–ü–ö–ê: –ü—Ä–æ–µ–∫—Ç –ê (25 –º–∏–Ω)` - –∑–∞–∫—É–ø–∫–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç:

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- `/start_day` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è
- `/start_trip` - –Ω–∞—á–∞–ª–æ —Ä–µ–π—Å–∞
- `/drive_to` - –Ω–∞—á–∞–ª–æ –ø–æ–µ–∑–¥–∫–∏
- `/work_on` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
- `/end_activity` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `/end_trip` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ–π—Å–∞
- `/activity_log` - –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

### –†–∞–±–æ—á–∏–µ —Å–µ—Å—Å–∏–∏
- –ù–∞—á–∞–ª–æ —Å–µ—Å—Å–∏–∏ (–≤—ã–±–æ—Ä –º–∞—à–∏–Ω—ã)
- –û–∫–æ–Ω—á–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ —Å –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

### –ü–æ–µ–∑–¥–∫–∏
- –í—Å–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏:
  - –û—Ç–∫—É–¥–∞/–∫—É–¥–∞
  - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ
  - –ü—Ä–æ–µ–∫—Ç (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
  - –í—Ä–µ–º—è

### –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –†–∞–±–æ—Ç–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞—Ö
- –ó–∞–∫—É–ø–∫–∏
- –ü—Ä–æ—Å—Ç–æ–∏

## API –º–µ—Ç–æ–¥—ã

### UserActivityLogger

```python
from user_activity_logger import get_activity_logger

logger = get_activity_logger()

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
logger.log_bot_command(user_id, "command_name", args_dict, success, error_message)

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ —Å–µ—Å—Å–∏–∏
logger.log_work_session_start(user_id, vehicle, work_day_id)

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏
logger.log_work_session_end(user_id, work_day_id, total_distance, duration_minutes)

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏
logger.log_trip(user_id, work_day_id, trip_id, start_location, end_location, 
                distance_km, project_id, project_name)

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
logger.log_activity(user_id, work_day_id, activity_id, activity_type, 
                   project_id, project_name, duration_minutes)

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–∞ –∑–∞ –¥–µ–Ω—å
day_log = logger.get_user_day_log(user_id, date)

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–¥–∫–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
summary = logger.get_user_logs_summary(user_id, start_date, end_date)
```

## –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫—Ä–∞—Ç–∫—É—é —Å–≤–æ–¥–∫—É —Å–≤–æ–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ –¥–µ–Ω—å –∫–æ–º–∞–Ω–¥–æ–π:
```
/activity_log
```

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö —Å–µ—Å—Å–∏–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–µ–∑–¥–æ–∫
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (—Ä–∞–±–æ—Ç–∞/–∑–∞–∫—É–ø–∫–∏)
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–ª–∏—á–∏—è –æ—à–∏–±–æ–∫
- –°–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –ü—É—Ç—å –∫ –ø–æ–ª–Ω–æ–º—É —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –ª–æ–≥-—Ñ–∞–π–ª—É

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–π —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏–∏ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –ª–æ–≥–∞.

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ß–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç** - —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ª–æ–≥–∏ –ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å —á–µ–ª–æ–≤–µ–∫–æ–º
2. **–•—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏
3. **–≠–º–æ–¥–∑–∏-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** - –Ω–∞–≥–ª—è–¥–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π
4. **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–Ω—è–º** - –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –¥–Ω—è
5. **–ü–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞** - –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è
6. **–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫** - –≤—Å–µ –æ—à–∏–±–∫–∏ –∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
7. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

–õ–æ–≥–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:
- –ê–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –≤ —Ä–∞–±–æ—Ç–µ –±–æ—Ç–∞
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ê–Ω–∞–ª–∏–∑–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Ä–∞–±–æ—Ç—ã (–≤—Ä–µ–º—è, –º–∞—à–∏–Ω—ã, –ø—Ä–æ–µ–∫—Ç—ã)
- –ê—É–¥–∏—Ç–∞ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∫–æ–º–∞–Ω–¥